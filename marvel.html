<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Club Pages</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
</head>
<body id="clubbody" >
    <nav>
        <div class="navbar">
          <a href="index.html" class="logo">
            <img id="logo" src="./assets/logo.png" alt="Campus Club Hub logo" />
          </a>
  
          <div class="webname">
            <h1 id="webname">CAMPUS CLUB HUB</h1>
          </div>
          <div id="login">
            <a href="./login.html" id="trial"><button id="back">Log in</button></a>
          </div>
        </div>
      </nav>
      <div class="titlecardV">
        <h1>
      MARVEL
        </h1>

      </div>
      <div class="socials">
        <img  height="40px" width="auto" src="https://www.transparentpng.com/thumb/logo-instagram/kuQpOb-logo-instagram-images.png" alt="logo instagram ">
        <img height="40px" width="auto" src="https://www.transparentpng.com/thumb/youtube-logo/youtube-logo-high-quality-png-9.png" alt="youtube logo ">
        <img height="40px" width="auto"  src="./assets/discord.png" alt="disccord logo">
        <img height="40px" width="auto" src="./assets/linkedin.png" alt="linkedin logo">
        <img height="40px" width="auto" src="https://www.transparentpng.com/thumb/facebook-logo/facebook-icon-transparent-background-20.png" alt="facebook logo">
      </div>

      
</body>
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-app.js";
  import { getDatabase, get, ref } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-database.js"
  import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-auth.js";
  
  const firebaseConfig = {
    apiKey: "AIzaSyDlGGDbdAnntuJPu9znmx2HRxeoxvb_Bc4",
    authDomain: "campus-club-hub-a2f5b.firebaseapp.com",
    databaseURL: "https://campus-club-hub-a2f5b-default-rtdb.firebaseio.com",
    projectId: "campus-club-hub-a2f5b",
    storageBucket: "campus-club-hub-a2f5b.appspot.com",
    messagingSenderId: "131774428532",
    appId: "1:131774428532:web:3b9296146483cd6121a821"
  };

  const app = initializeApp(firebaseConfig);
  const database = getDatabase(app);
  const auth = getAuth();

  document.addEventListener('DOMContentLoaded', function () {
      console.log('Document loaded');
      const auth = getAuth();
      const database = getDatabase(app);
      onAuthStateChanged(auth, (user) => {
          if (user) {
              const userId = user.uid;
              const userRef = ref(database, 'users/' + userId);
              get(userRef).then((snapshot) => {
                  const userData = snapshot.val();
                  document.getElementById('trial').innerHTML = `<a href="./apply.html"><button id="back">Apply</button></a>`;                     
              });
          } else {
          }
      });
  });
</script>
</html>