<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@500&display=swap" rel="stylesheet">
    <title>CAMPUS CLUB HUB</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
  </head>
  <body>
    <nav>
      <div class="navbar">
        <div class="logoMain">
          <a href="" class="logo">
            <img id="logo" src="./assets/logo.png" alt="Campus Club Hub logo" />
          </a>
        </div>
        <div class="webname">
          <h1 id="webname">CAMPUS CLUB HUB</h1>
        </div>
        <div id="login">
          <a href="./login.html"><button id="back">Log In</button></a>
          <button id="logout">Log out</button>
      </div>
    </div>
    </nav>

    <section class="container">
      <div class="slider-wrapper">
        <div class="slider">
          <img
            id="slide1"
            src="https://i.pinimg.com/736x/ba/92/7f/ba927ff34cd961ce2c184d47e8ead9f6.jpg"
            alt="cat"
          />
          <img
            id="slide2"
            src="https://wallpapers-clan.com/wp-content/uploads/2022/07/funny-cat-3.jpg"
            alt="cat"
          />
          <img id="slide3" src="./assets/logo.jpg" alt="cat" />
        </div>
        <div class="slidernav">
          <a href="#slide1"></a>
          <a href="#slide2"></a>
          <a href="#slide3"></a>
        </div>
      </div>
    </section>

    <main>
      <div class="titlecard">
        <a class="title" href=""> <h1 id="title">ADHAMYA</h1> </a>
      </div>
      <div class="row1">
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="chethana.html">
                <img id="img" src="./assets/chetana.jpg" alt="chetana club logo" />
                <div class="overlay overlay--blur">Chetana</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="esports.html">
                <img id="img" src="./assets/esports.jpg" alt="esports club logo" />
                <div class="overlay overlay--blur">E-Sports</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="eunoia.html">
                <img id="img" src="./assets/Eunoia.jpg" alt="Eunoia club logo" />
                <div class="overlay overlay--blur">Eunoia</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="G2C2.html">
                <img id="img" src="./assets/g2c2.jpg" alt="g2c2 club logo" />
                <div class="overlay overlay--blur">G2C2</div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="row1">
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="kuthuhala.html">
                <img id="img" src="./assets/kutuhala.jpg" alt="kutuhala club logo" />
                <div class="overlay overlay--blur">Kuthuhala</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="momento.html">
                <img id="img" src="./assets/momento.jpg" alt="momento club logo" />
                <div class="overlay overlay--blur">Momento</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="paradox.html">
                <img id="img" src="./assets/paradox.jpg" alt="paradox club logo" />
                <div class="overlay overlay--blur">Paradox</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="prathibimba.html">
                <img id="img" src="./assets/prathibimba.jpg" alt="prathibimba club logo"/>
                <div class="overlay overlay--blur">Prathibimba</div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="row2">
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="tatva.html">
                <img id="img" src="./assets/tatva.jpg" alt="tatva club logo" />
                <div class="overlay overlay--blur">Tatva</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="vachana.html">
                <img id="img" src="./assets/Vachana.jpg" alt="Vachana club logo" />
                <div class="overlay overlay--blur">Vachana</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="vinimaya.html">
                <img id="img" src="./assets/vinimaya.jpg" alt="vinimaya club logo" />
                <div class="overlay overlay--blur">Vinimaya</div>
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="titlecard">
        <a class="title" href=""><h1 id="title">TECHNICAL</h1></a>
      </div>
      <div class="row1">
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="ecell.html">
                <img id="img" src="./assets/ecell.jpg" alt="ecell club logo" />
                <div class="overlay overlay--blur">E-Cell</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="gdsc.html">
                <img id="img" src="./assets/gdsc.jpg" alt="gdsc club logo" />
                <div class="overlay overlay--blur">GDSC</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="ieee.html">
                <img id="img" src="./assets/ieee.jpg" alt="ieee club logo" />
                <div class="overlay overlay--blur">IEEE</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="marvel.html">
                <img id="img" src="./assets/marvel.png" alt="marvel club logo" />
                <div class="overlay overlay--blur">Marvel</div>
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="row3">
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="">
                <img id="img" src="./assets/praveg.jpg" alt="praveg club logo" />
                <div class="overlay overlay--blur">Praveg</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="tedx.html">
                <img id="img" src="./assets/tedx.jpg" alt="tedx club logo" />
                <div class="overlay overlay--blur">TEDx</div>
              </a>
            </div>
          </div>
        </div>
        <div class="col">
          <div class="contain">
            <div class="clublogo">
              <a href="180dc.html">
                <img id="img" src="./assets/180dc.jpg" alt="180dc club logo" />
                <div class="overlay overlay--blur">180DC</div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer>
      <div class="footer">
        <h1 id="footer">â’¸ CAMPUS CLUB HUB</h1>
      </div>
    </footer>
    <script type="module">
      import { initializeApp } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-app.js";
      import { getDatabase, set, ref, update, get } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-database.js"
      import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.5.1/firebase-auth.js";
      
      const firebaseConfig = {
        apiKey: "AIzaSyDlGGDbdAnntuJPu9znmx2HRxeoxvb_Bc4",
        authDomain: "campus-club-hub-a2f5b.firebaseapp.com",
        databaseURL: "https://campus-club-hub-a2f5b-default-rtdb.firebaseio.com",
        projectId: "campus-club-hub-a2f5b",
        storageBucket: "campus-club-hub-a2f5b.appspot.com",
        messagingSenderId: "131774428532",
        appId: "1:131774428532:web:3b9296146483cd6121a821"
      };
  
      const app = initializeApp(firebaseConfig);
      const database = getDatabase(app);
      const auth = getAuth();
  
      document.addEventListener('DOMContentLoaded', function () {
          console.log('Document loaded');
          const auth = getAuth();
          const database = getDatabase(app);
          onAuthStateChanged(auth, (user) => {
              if (user) {
                  const userId = user.uid;
                  const userRef = ref(database, 'users/' + userId);
                  get(userRef).then((snapshot) => {
                      const userData = snapshot.val();
                      document.getElementById('back').textContent = 'Welcome, ' + userData.username;
                  });
              } else {
              }
          });
      });
  
      const logOutButton = document.getElementById('logout');
      logOutButton.addEventListener('click', (e) => {
          e.preventDefault();
          const dt = new Date();
          const user = auth.currentUser;
  
          if (user) {
              update(ref(database, 'users/' + user.uid), {
                  last_logout: dt
              }).then(() => {
                  signOut(auth).then(() => {
                      document.getElementById('back').textContent = 'Log in';
                      alert('User logged out.');
                  }).catch((error) => {
                      const errorCode = error.code;
                      const errorMessage = error.message;
                      alert('Error!');
                  });
              }).catch((error) => {
                  console.error(error);
              });
          }
      });
  </script>
  
  </body>
</html>
